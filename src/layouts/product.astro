---
import Application from "./application.astro";

let {
  title,
  colorScheme = "light",
  product,
  price,
  preorder = false,
} = Astro.props;
---

<Application title={title} colorScheme={colorScheme}>
  <div
    class="pattern-dots pattern-stone-200 pattern-bg-stone-100
pattern-size-6 w-[100w] h-[100vh] fixed inset-0 z-0"
  >
  </div>
  <header class="sticky top-0 z-50 bg-white/50 backdrop-blur-md z-1">
    <div
      class="max-w-[100rem] w-full mx-auto flex items-center justify-between px-4 py-8 md:pl-20 md:pr-[33rem]"
    >
      <a href="/" class="text-lg md:text-2xl font-bold"> 4ever Software </a>
      <nav class="flex gap-4">
        <a href="/cardwall" class="text-md md:text-lg font-bold"> Overview </a>
        <a href="/cardwall/changelog" class="text-md md:text-l font-bold">
          Changelog
        </a>
        <a href="/support" class="text-md md:text-l font-bold"> Support </a>
      </nav>
    </div>
  </header>
  <div
    class="relative z-1 max-w-[100rem] w-full mx-auto flex flex-col md:flex-row gap-4 px-4"
  >
    <div
      class="order-2 md:order-1 basis-4/5 flex flex-col gap-8 prose max-w-prose mx-auto text-2xl pt-24 [&_sup]:text-xs [&_sup]:text-slate-500 [&_sup]:rounded-full [&_sup]:border [&_sup]:border-slate-500 [&_sup]:px-2 [&_sup]:py-1"
    >
      <slot />
    </div>
    <div
      class="md:sticky top-0 z-40 md:z-50 order-1 md:order-2 md:basis-[30rem] bg-white md:self-start md:-mt-24 rounded-b-xl"
    >
      <div
        class="flex flex-row gap-4 justify-between items-center h-[6.1rem] border-b border-slate-100 p-4"
      >
        <h2 class="text-2xl font-bold">{product}</h2>
        <h3 class="text-xl font-bold">${price}/once</h3>
      </div>
      <div class="p-8 text-slate prose text-stone-500 bg-stone-50">
        {
          preorder && (
            <>
              <h4 class="font-bold">Why pre-order?</h4>
              <p>
                By pre-ordering, you will receive a{" "}
                <em>significant discount</em>, early access to the beta, the
                chance to have your requests and wishes implemented, and our
                undying gratitude.
              </p>
            </>
          )
        }
        <h4 class="font-bold">What's included?</h4>
        <ul class="list-disc">
          <li>The code</li>
          <li>One click/one command installation</li>
          <li>Free updates for life</li>
          <li>Bare bones support included</li>
        </ul>
        <h4 class="font-bold">I paid, what now?</h4>
        <p>
          Now that you've paid, we've sent you an email with everything you need
          to use {product}.
        </p>
      </div>
      <div class="p-4">
        <a
          href="https://buy.stripe.com/9AQ2bjg9D4e7dHy001"
          class="block text-center w-full bg-gradient-to-b from-emerald-600 to-emerald-500 text-white px-8 py-4 border border-green-100 rounded-2xl text-2xl font-semibold"
        >
          {preorder ? "Pre-order" : "Buy now"}
        </a>
      </div>
    </div>
  </div>

  <footer
    class="py-24 px-4 text-xs text-slate-500 max-w-full w-[92rem] text-left mx-auto"
  >
    4ever Software and {product} are designed, built, and backed by 4ever Software.
    Copyright Â© 4ever Software Inc. All rights reserved.
  </footer>
</Application>
